{"ast":null,"code":"import React,{useState,useEffect,useRef,useCallback}from'react';import{QueryClient,QueryClientProvider}from'react-query';import{BrowserRouter as Router}from'react-router-dom';import Navbar from'./components/Navbar';import Hero from'./components/Hero';import Trending from'./components/Trending';import Artists from'./components/Artists';import Discover from'./components/Discover';import FAQ from'./components/FAQ';import Footer from'./components/Footer';import'react-toastify/dist/ReactToastify.css';// Create a client\nimport{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const queryClient=new QueryClient();const PopupMenu=_ref=>{let{isOpen,onClose}=_ref;const popupRef=useRef(null);const handleKeyDown=useCallback(event=>{if(event.key==='Escape'||event.key==='Enter'){onClose();}},[onClose]);useEffect(()=>{if(isOpen){document.addEventListener('keydown',handleKeyDown);const focusableElements=popupRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');if(focusableElements.length){focusableElements[0].focus();}}else{document.removeEventListener('keydown',handleKeyDown);}return()=>{document.removeEventListener('keydown',handleKeyDown);};},[isOpen,handleKeyDown]);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-gray-900 bg-opacity-50 \".concat(isOpen?'flex':'hidden',\" justify-center items-center\"),children:/*#__PURE__*/_jsxs(\"div\",{ref:popupRef,className:\"bg-white p-6 rounded-lg shadow-lg w-1/3\",tabIndex:\"0\"// Make the popup focusable\n,children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-2xl font-semibold mb-4\",children:\"Welcome to TuneScout!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:\"- TuneScout uses real Last.fm and Spotify information (API implementation).\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-1\",children:\"- Cards ARE clickable, and Embeds let you play music and add to your Spotify!\"}),/*#__PURE__*/_jsx(\"p\",{className:\"mb-4\",children:\"- Psss! Try holding down the Vinyl record and Dragging it up and down quickly! \\uD83D\\uDE09\"}),/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"bg-primary text-white px-6 py-2 rounded-full hover:bg-red-500 transition duration-300\",tabIndex:\"0\"// Make the button focusable\n,onKeyDown:e=>{if(e.key==='Enter')onClose();},children:\"Close\"})]})});};function App(){const[isNavbarVisible,setIsNavbarVisible]=useState(true);const[lastScrollY,setLastScrollY]=useState(0);const[currentSection,setCurrentSection]=useState('Home');const[isPopupOpen,setIsPopupOpen]=useState(true);useEffect(()=>{const controlNavbar=()=>{if(typeof window!=='undefined'){if(window.scrollY>lastScrollY+30){setIsNavbarVisible(false);}else if(window.scrollY<lastScrollY){setIsNavbarVisible(true);}setLastScrollY(window.scrollY);}};if(typeof window!=='undefined'){window.addEventListener('scroll',controlNavbar);return()=>{window.removeEventListener('scroll',controlNavbar);};}},[lastScrollY]);const handleLinkClick=section=>{setCurrentSection(section);};const closePopup=()=>{setIsPopupOpen(false);};return/*#__PURE__*/_jsx(QueryClientProvider,{client:queryClient,children:/*#__PURE__*/_jsx(Router,{basename:process.env.REACT_APP_BASENAME||'',children:/*#__PURE__*/_jsxs(\"div\",{className:\"min-h-screen flex flex-col bg-background text-text\",children:[/*#__PURE__*/_jsx(Navbar,{isVisible:isNavbarVisible,onLinkClick:handleLinkClick}),/*#__PURE__*/_jsxs(\"main\",{className:\"flex-grow\",children:[currentSection==='Home'&&/*#__PURE__*/_jsxs(\"section\",{id:\"home\",children:[/*#__PURE__*/_jsx(Hero,{onLinkClick:handleLinkClick}),/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(Trending,{})}),/*#__PURE__*/_jsx(FAQ,{})]}),currentSection==='Trending'&&/*#__PURE__*/_jsx(\"section\",{id:\"trending\",className:\"container mx-auto container-padding py-2\",children:/*#__PURE__*/_jsx(\"div\",{className:\"flex justify-center\",children:/*#__PURE__*/_jsx(Trending,{})})}),currentSection==='Discover'&&/*#__PURE__*/_jsx(\"section\",{id:\"discover\",className:\"container mx-auto container-padding section-padding\",children:/*#__PURE__*/_jsx(Discover,{})}),currentSection==='Artists'&&/*#__PURE__*/_jsx(\"section\",{id:\"artists\",className:\"container mx-auto container-padding section-padding\",children:/*#__PURE__*/_jsx(Artists,{})}),currentSection==='FAQ'&&/*#__PURE__*/_jsx(\"section\",{id:\"faq\",className:\"container mx-auto container-padding section-padding\",children:/*#__PURE__*/_jsx(FAQ,{})})]}),/*#__PURE__*/_jsx(Footer,{}),/*#__PURE__*/_jsx(PopupMenu,{isOpen:isPopupOpen,onClose:closePopup})]})})});}export default App;","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","QueryClient","QueryClientProvider","BrowserRouter","Router","Navbar","Hero","Trending","Artists","Discover","FAQ","Footer","jsx","_jsx","jsxs","_jsxs","queryClient","PopupMenu","_ref","isOpen","onClose","popupRef","handleKeyDown","event","key","document","addEventListener","focusableElements","current","querySelectorAll","length","focus","removeEventListener","className","concat","children","ref","tabIndex","onClick","onKeyDown","e","App","isNavbarVisible","setIsNavbarVisible","lastScrollY","setLastScrollY","currentSection","setCurrentSection","isPopupOpen","setIsPopupOpen","controlNavbar","window","scrollY","handleLinkClick","section","closePopup","client","basename","process","env","REACT_APP_BASENAME","isVisible","onLinkClick","id"],"sources":["/Users/peter/Documents/SUMMER 2024/SEG3125/tunescout/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { QueryClient, QueryClientProvider } from 'react-query';\nimport { BrowserRouter as Router } from 'react-router-dom';\nimport Navbar from './components/Navbar';\nimport Hero from './components/Hero';\nimport Trending from './components/Trending';\nimport Artists from './components/Artists';\nimport Discover from './components/Discover';\nimport FAQ from './components/FAQ';\nimport Footer from './components/Footer';\nimport 'react-toastify/dist/ReactToastify.css';\n\n// Create a client\nconst queryClient = new QueryClient();\n\nconst PopupMenu = ({ isOpen, onClose }) => {\n  const popupRef = useRef(null);\n\n  const handleKeyDown = useCallback((event) => {\n    if (event.key === 'Escape' || event.key === 'Enter') {\n      onClose();\n    }\n  }, [onClose]);\n\n  useEffect(() => {\n    if (isOpen) {\n      document.addEventListener('keydown', handleKeyDown);\n      const focusableElements = popupRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n      if (focusableElements.length) {\n        focusableElements[0].focus();\n      }\n    } else {\n      document.removeEventListener('keydown', handleKeyDown);\n    }\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n    };\n  }, [isOpen, handleKeyDown]);\n\n  return (\n    <div className={`fixed inset-0 bg-gray-900 bg-opacity-50 ${isOpen ? 'flex' : 'hidden'} justify-center items-center`}>\n      <div\n        ref={popupRef}\n        className=\"bg-white p-6 rounded-lg shadow-lg w-1/3\"\n        tabIndex=\"0\" // Make the popup focusable\n      >\n        <h2 className=\"text-2xl font-semibold mb-4\">Welcome to TuneScout!</h2>\n        <p className=\"mb-1\">- TuneScout uses real Last.fm and Spotify information (API implementation).</p>\n        <p className=\"mb-1\">- Cards ARE clickable, and Embeds let you play music and add to your Spotify!</p>\n        <p className=\"mb-4\">- Psss! Try holding down the Vinyl record and Dragging it up and down quickly! ðŸ˜‰</p>\n        <button\n          onClick={onClose}\n          className=\"bg-primary text-white px-6 py-2 rounded-full hover:bg-red-500 transition duration-300\"\n          tabIndex=\"0\" // Make the button focusable\n          onKeyDown={(e) => {\n            if (e.key === 'Enter') onClose();\n          }}\n        >\n          Close\n        </button>\n      </div>\n    </div>\n  );\n};\n\nfunction App() {\n  const [isNavbarVisible, setIsNavbarVisible] = useState(true);\n  const [lastScrollY, setLastScrollY] = useState(0);\n  const [currentSection, setCurrentSection] = useState('Home');\n  const [isPopupOpen, setIsPopupOpen] = useState(true);\n\n  useEffect(() => {\n    const controlNavbar = () => {\n      if (typeof window !== 'undefined') {\n        if (window.scrollY > lastScrollY + 30) {\n          setIsNavbarVisible(false);\n        } else if (window.scrollY < lastScrollY) {\n          setIsNavbarVisible(true);\n        }\n        setLastScrollY(window.scrollY);\n      }\n    };\n\n    if (typeof window !== 'undefined') {\n      window.addEventListener('scroll', controlNavbar);\n\n      return () => {\n        window.removeEventListener('scroll', controlNavbar);\n      };\n    }\n  }, [lastScrollY]);\n\n  const handleLinkClick = (section) => {\n    setCurrentSection(section);\n  };\n\n  const closePopup = () => {\n    setIsPopupOpen(false);\n  };\n\n  return (\n    <QueryClientProvider client={queryClient}>\n      <Router basename={process.env.REACT_APP_BASENAME || ''}>\n        <div className=\"min-h-screen flex flex-col bg-background text-text\">\n          <Navbar isVisible={isNavbarVisible} onLinkClick={handleLinkClick} />\n          <main className=\"flex-grow\">\n            {currentSection === 'Home' && (\n              <section id=\"home\">\n                <Hero onLinkClick={handleLinkClick} />\n                <div className=\"flex justify-center\">\n                  <Trending />\n                </div>\n                <FAQ />\n              </section>\n            )}\n            {currentSection === 'Trending' && (\n              <section id=\"trending\" className=\"container mx-auto container-padding py-2\">\n                <div className=\"flex justify-center\">\n                  <Trending />\n                </div>\n              </section>\n            )}\n            {currentSection === 'Discover' && (\n              <section id=\"discover\" className=\"container mx-auto container-padding section-padding\">\n                <Discover />\n              </section>\n            )}\n            {currentSection === 'Artists' && (\n              <section id=\"artists\" className=\"container mx-auto container-padding section-padding\">\n                <Artists />\n              </section>\n            )}\n            {currentSection === 'FAQ' && (\n              <section id=\"faq\" className=\"container mx-auto container-padding section-padding\">\n                <FAQ />\n              </section>\n            )}\n          </main>\n          <Footer />\n          <PopupMenu isOpen={isPopupOpen} onClose={closePopup} />\n          {/* <ToastContainer /> */}\n        </div>\n      </Router>\n    </QueryClientProvider>\n  );\n}\n\nexport default App;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}