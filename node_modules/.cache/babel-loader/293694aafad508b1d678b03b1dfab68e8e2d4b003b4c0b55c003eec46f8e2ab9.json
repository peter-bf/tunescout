{"ast":null,"code":"import React,{useEffect,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const ArtistModal=_ref=>{let{artist,isVisible,onClose,modalRef}=_ref;const formatNumber=num=>num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g,\",\");const capitalize=str=>str.charAt(0).toUpperCase()+str.slice(1);const handleKeyDown=useCallback(event=>{if(event.key==='Escape'||event.key==='Enter'){onClose();}},[onClose]);const trapFocus=useCallback(event=>{const focusableElements=modalRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');const firstElement=focusableElements[0];const lastElement=focusableElements[focusableElements.length-1];if(event.shiftKey&&document.activeElement===firstElement){lastElement.focus();event.preventDefault();}else if(!event.shiftKey&&document.activeElement===lastElement){firstElement.focus();event.preventDefault();}},[modalRef]);useEffect(()=>{if(isVisible){document.addEventListener('keydown',handleKeyDown);document.addEventListener('keydown',trapFocus);const focusableElements=modalRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');if(focusableElements.length){focusableElements[0].focus();}}else{document.removeEventListener('keydown',handleKeyDown);document.removeEventListener('keydown',trapFocus);}return()=>{document.removeEventListener('keydown',handleKeyDown);document.removeEventListener('keydown',trapFocus);};},[isVisible,handleKeyDown,trapFocus,modalRef]);return/*#__PURE__*/_jsx(\"div\",{className:\"fixed inset-0 bg-black transition-all duration-300 ease-in-out \".concat(isVisible?'bg-opacity-50 backdrop-blur-sm':'bg-opacity-0 backdrop-blur-none pointer-events-none',\" flex items-center justify-center z-50\"),children:/*#__PURE__*/_jsxs(\"div\",{ref:modalRef,className:\"bg-white p-8 rounded-lg shadow-xl w-full max-w-4xl relative transition-all duration-300 ease-in-out \".concat(isVisible?'scale-100 opacity-100':'scale-0 opacity-0'),children:[/*#__PURE__*/_jsx(\"button\",{onClick:onClose,className:\"absolute top-4 right-4 text-gray-600 hover:text-gray-800\",\"aria-label\":\"Close modal\",children:/*#__PURE__*/_jsx(\"svg\",{xmlns:\"http://www.w3.org/2000/svg\",className:\"h-8 w-8\",fill:\"none\",viewBox:\"0 0 24 24\",stroke:\"currentColor\",children:/*#__PURE__*/_jsx(\"path\",{strokeLinecap:\"round\",strokeLinejoin:\"round\",strokeWidth:2,d:\"M6 18L18 6M6 6l12 12\"})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"flex\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"w-1/2 pr-6\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"text-3xl font-bold mb-4\",children:artist.name}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Followers:\"}),\" \",formatNumber(artist.followers)]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl mb-2\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Genres:\"}),\" \",artist.genres.map(capitalize).join(', ')]}),/*#__PURE__*/_jsxs(\"p\",{className:\"text-xl mb-6\",children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Popularity Score:\"}),\" \",formatNumber(artist.popularity),\"/100\"]})]}),/*#__PURE__*/_jsx(\"div\",{className:\"w-1/2 pl-6 flex flex-col\",children:/*#__PURE__*/_jsx(\"div\",{className:\"mb-6\",children:/*#__PURE__*/_jsx(\"img\",{src:artist.images[0].url,alt:artist.name,className:\"w-40 h-40 rounded-full mx-auto\",loading:\"lazy\"})})})]})]})});};export default ArtistModal;","map":{"version":3,"names":["React","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","ArtistModal","_ref","artist","isVisible","onClose","modalRef","formatNumber","num","toString","replace","capitalize","str","charAt","toUpperCase","slice","handleKeyDown","event","key","trapFocus","focusableElements","current","querySelectorAll","firstElement","lastElement","length","shiftKey","document","activeElement","focus","preventDefault","addEventListener","removeEventListener","className","concat","children","ref","onClick","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","name","followers","genres","map","join","popularity","src","images","url","alt","loading"],"sources":["/Users/peter/Documents/SUMMER 2024/SEG3125/tunescout/src/components/ArtistModal.js"],"sourcesContent":["import React, { useEffect, useCallback } from 'react';\n\nconst ArtistModal = ({ artist, isVisible, onClose, modalRef }) => {\n  const formatNumber = (num) => num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  const capitalize = (str) => str.charAt(0).toUpperCase() + str.slice(1);\n\n  const handleKeyDown = useCallback(\n    (event) => {\n      if (event.key === 'Escape' || event.key === 'Enter') {\n        onClose();\n      }\n    },\n    [onClose]\n  );\n\n  const trapFocus = useCallback((event) => {\n    const focusableElements = modalRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n    const firstElement = focusableElements[0];\n    const lastElement = focusableElements[focusableElements.length - 1];\n\n    if (event.shiftKey && document.activeElement === firstElement) {\n      lastElement.focus();\n      event.preventDefault();\n    } else if (!event.shiftKey && document.activeElement === lastElement) {\n      firstElement.focus();\n      event.preventDefault();\n    }\n  }, [modalRef]);\n\n  useEffect(() => {\n    if (isVisible) {\n      document.addEventListener('keydown', handleKeyDown);\n      document.addEventListener('keydown', trapFocus);\n\n      const focusableElements = modalRef.current.querySelectorAll('button, [href], input, select, textarea, [tabindex]:not([tabindex=\"-1\"])');\n      if (focusableElements.length) {\n        focusableElements[0].focus();\n      }\n    } else {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keydown', trapFocus);\n    }\n\n    return () => {\n      document.removeEventListener('keydown', handleKeyDown);\n      document.removeEventListener('keydown', trapFocus);\n    };\n  }, [isVisible, handleKeyDown, trapFocus, modalRef]);\n\n  return (\n    <div\n      className={`fixed inset-0 bg-black transition-all duration-300 ease-in-out ${\n        isVisible ? 'bg-opacity-50 backdrop-blur-sm' : 'bg-opacity-0 backdrop-blur-none pointer-events-none'\n      } flex items-center justify-center z-50`}\n    >\n      <div\n        ref={modalRef}\n        className={`bg-white p-8 rounded-lg shadow-xl w-full max-w-4xl relative transition-all duration-300 ease-in-out ${\n          isVisible ? 'scale-100 opacity-100' : 'scale-0 opacity-0'\n        }`}\n      >\n        <button onClick={onClose} className=\"absolute top-4 right-4 text-gray-600 hover:text-gray-800\" aria-label=\"Close modal\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n            <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n          </svg>\n        </button>\n        <div className=\"flex\">\n          <div className=\"w-1/2 pr-6\">\n            <h2 className=\"text-3xl font-bold mb-4\">{artist.name}</h2>\n            <p className=\"text-xl mb-2\"><strong>Followers:</strong> {formatNumber(artist.followers)}</p>\n            <p className=\"text-xl mb-2\"><strong>Genres:</strong> {artist.genres.map(capitalize).join(', ')}</p>\n            <p className=\"text-xl mb-6\"><strong>Popularity Score:</strong> {formatNumber(artist.popularity)}/100</p>\n          </div>\n          <div className=\"w-1/2 pl-6 flex flex-col\">\n            <div className=\"mb-6\">\n              <img src={artist.images[0].url} alt={artist.name} className=\"w-40 h-40 rounded-full mx-auto\" loading=\"lazy\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n};\n\nexport default ArtistModal;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}