{"ast":null,"code":"import React,{useState,useRef,useEffect,useCallback}from'react';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function Hero(){const[isMouseDown,setIsMouseDown]=useState(false);const[rotation,setRotation]=useState(0);const[lastMousePosition,setLastMousePosition]=useState({x:0,y:0});const[lastScratchTime,setLastScratchTime]=useState(0);const discRef=useRef(null);const animationRef=useRef(null);const scratchSoundRef=useRef(null);const SCRATCH_COOLDOWN=1500;// Cooldown in milliseconds\nconst SCRATCH_THRESHOLD=70;// Minimum rotation delta to trigger scratch\nuseEffect(()=>{scratchSoundRef.current=new Audio('/sounds/scratch.mp3');// Replace with your actual sound file path\nscratchSoundRef.current.load();// Preload the audio\nlet lastTime=0;const autoRotateSpeed=0.05;// Adjust this value to change the auto-rotation speed\nconst animate=time=>{if(lastTime!==0){const deltaTime=time-lastTime;if(!isMouseDown){setRotation(prevRotation=>(prevRotation+autoRotateSpeed*deltaTime)%360);}}lastTime=time;animationRef.current=requestAnimationFrame(animate);};animationRef.current=requestAnimationFrame(animate);return()=>{if(animationRef.current){cancelAnimationFrame(animationRef.current);}};},[isMouseDown]);const playScratching=useCallback(()=>{const currentTime=Date.now();if(currentTime-lastScratchTime>SCRATCH_COOLDOWN){if(scratchSoundRef.current){scratchSoundRef.current.currentTime=0;// Reset to start\nscratchSoundRef.current.play().catch(e=>console.log(\"Audio play failed:\",e));}setLastScratchTime(currentTime);}},[lastScratchTime]);const handleMouseDown=e=>{setIsMouseDown(true);setLastMousePosition({x:e.clientX,y:e.clientY});};const handleMouseUp=useCallback(()=>{setIsMouseDown(false);},[]);const handleMouseMove=useCallback(e=>{if(isMouseDown&&discRef.current){const rect=discRef.current.getBoundingClientRect();const discCenterX=rect.left+rect.width/2;const discCenterY=rect.top+rect.height/2;const lastAngle=Math.atan2(lastMousePosition.y-discCenterY,lastMousePosition.x-discCenterX);const newAngle=Math.atan2(e.clientY-discCenterY,e.clientX-discCenterX);let deltaRotation=(newAngle-lastAngle)*(180/Math.PI);setRotation(prevRotation=>{let newRotation=(prevRotation+deltaRotation)%360;return newRotation<0?newRotation+360:newRotation;});// Check for quick back-and-forth movement\nif(Math.abs(deltaRotation)>SCRATCH_THRESHOLD){playScratching();}setLastMousePosition({x:e.clientX,y:e.clientY});}},[isMouseDown,lastMousePosition,playScratching]);useEffect(()=>{document.addEventListener('mouseup',handleMouseUp);document.addEventListener('mousemove',handleMouseMove);return()=>{document.removeEventListener('mouseup',handleMouseUp);document.removeEventListener('mousemove',handleMouseMove);};},[handleMouseUp,handleMouseMove]);return/*#__PURE__*/_jsx(\"div\",{className:\"bg-white relative overflow-hidden\",children:/*#__PURE__*/_jsxs(\"div\",{className:\"container mx-auto px-4 py-16 flex flex-col md:flex-row items-center\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"md:w-1/2 mb-8 md:mb-0 z-10\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"text-4xl font-bold mb-4\",children:\"Discover Your Next Favorite Song\"}),/*#__PURE__*/_jsx(\"p\",{className:\"text-xl mb-6\",children:\"TuneScout helps you find new music based on your preferences and listening history.\"}),/*#__PURE__*/_jsx(\"button\",{className:\"bg-primary text-white px-6 py-2 rounded-full bg-primary transition duration-300\",children:\"Get Started\"})]}),/*#__PURE__*/_jsx(\"div\",{className:\"md:w-1/2 relative h-96\",children:/*#__PURE__*/_jsx(\"div\",{ref:discRef,className:\"absolute -right-1/2 top-1/2 transform -translate-y-1/2\",onMouseDown:handleMouseDown,style:{transform:\"translateY(-50%) rotate(\".concat(rotation,\"deg)\"),cursor:isMouseDown?'grabbing':'grab'},children:/*#__PURE__*/_jsx(\"img\",{src:\"\".concat(process.env.PUBLIC_URL,\"/images/disc.png\"),alt:\"Rotating Vinyl Disc\",className:\"h-full w-auto select-none pointer-events-none\",style:{height:'120%'},draggable:\"false\"})})})]})});}export default Hero;","map":{"version":3,"names":["React","useState","useRef","useEffect","useCallback","jsx","_jsx","jsxs","_jsxs","Hero","isMouseDown","setIsMouseDown","rotation","setRotation","lastMousePosition","setLastMousePosition","x","y","lastScratchTime","setLastScratchTime","discRef","animationRef","scratchSoundRef","SCRATCH_COOLDOWN","SCRATCH_THRESHOLD","current","Audio","load","lastTime","autoRotateSpeed","animate","time","deltaTime","prevRotation","requestAnimationFrame","cancelAnimationFrame","playScratching","currentTime","Date","now","play","catch","e","console","log","handleMouseDown","clientX","clientY","handleMouseUp","handleMouseMove","rect","getBoundingClientRect","discCenterX","left","width","discCenterY","top","height","lastAngle","Math","atan2","newAngle","deltaRotation","PI","newRotation","abs","document","addEventListener","removeEventListener","className","children","ref","onMouseDown","style","transform","concat","cursor","src","process","env","PUBLIC_URL","alt","draggable"],"sources":["/Users/peter/Documents/SUMMER 2024/SEG3125/tunescout/src/components/Hero.js"],"sourcesContent":["import React, { useState, useRef, useEffect, useCallback } from 'react';\n\nfunction Hero() {\n  const [isMouseDown, setIsMouseDown] = useState(false);\n  const [rotation, setRotation] = useState(0);\n  const [lastMousePosition, setLastMousePosition] = useState({ x: 0, y: 0 });\n  const [lastScratchTime, setLastScratchTime] = useState(0);\n  const discRef = useRef(null);\n  const animationRef = useRef(null);\n  const scratchSoundRef = useRef(null);\n\n  const SCRATCH_COOLDOWN = 1500; // Cooldown in milliseconds\n  const SCRATCH_THRESHOLD = 70; // Minimum rotation delta to trigger scratch\n\n  useEffect(() => {\n    scratchSoundRef.current = new Audio('/sounds/scratch.mp3'); // Replace with your actual sound file path\n    scratchSoundRef.current.load(); // Preload the audio\n\n    let lastTime = 0;\n    const autoRotateSpeed = 0.05; // Adjust this value to change the auto-rotation speed\n\n    const animate = (time) => {\n      if (lastTime !== 0) {\n        const deltaTime = time - lastTime;\n        if (!isMouseDown) {\n          setRotation((prevRotation) => (prevRotation + autoRotateSpeed * deltaTime) % 360);\n        }\n      }\n      lastTime = time;\n      animationRef.current = requestAnimationFrame(animate);\n    };\n\n    animationRef.current = requestAnimationFrame(animate);\n\n    return () => {\n      if (animationRef.current) {\n        cancelAnimationFrame(animationRef.current);\n      }\n    };\n  }, [isMouseDown]);\n\n  const playScratching = useCallback(() => {\n    const currentTime = Date.now();\n    if (currentTime - lastScratchTime > SCRATCH_COOLDOWN) {\n      if (scratchSoundRef.current) {\n        scratchSoundRef.current.currentTime = 0; // Reset to start\n        scratchSoundRef.current.play().catch(e => console.log(\"Audio play failed:\", e));\n      }\n      setLastScratchTime(currentTime);\n    }\n  }, [lastScratchTime]);\n\n  const handleMouseDown = (e) => {\n    setIsMouseDown(true);\n    setLastMousePosition({ x: e.clientX, y: e.clientY });\n  };\n\n  const handleMouseUp = useCallback(() => {\n    setIsMouseDown(false);\n  }, []);\n\n  const handleMouseMove = useCallback((e) => {\n    if (isMouseDown && discRef.current) {\n      const rect = discRef.current.getBoundingClientRect();\n      const discCenterX = rect.left + rect.width / 2;\n      const discCenterY = rect.top + rect.height / 2;\n\n      const lastAngle = Math.atan2(lastMousePosition.y - discCenterY, lastMousePosition.x - discCenterX);\n      const newAngle = Math.atan2(e.clientY - discCenterY, e.clientX - discCenterX);\n      \n      let deltaRotation = (newAngle - lastAngle) * (180 / Math.PI);\n      \n      setRotation((prevRotation) => {\n        let newRotation = (prevRotation + deltaRotation) % 360;\n        return newRotation < 0 ? newRotation + 360 : newRotation;\n      });\n\n      // Check for quick back-and-forth movement\n      if (Math.abs(deltaRotation) > SCRATCH_THRESHOLD) {\n        playScratching();\n      }\n\n      setLastMousePosition({ x: e.clientX, y: e.clientY });\n    }\n  }, [isMouseDown, lastMousePosition, playScratching]);\n\n  useEffect(() => {\n    document.addEventListener('mouseup', handleMouseUp);\n    document.addEventListener('mousemove', handleMouseMove);\n\n    return () => {\n      document.removeEventListener('mouseup', handleMouseUp);\n      document.removeEventListener('mousemove', handleMouseMove);\n    };\n  }, [handleMouseUp, handleMouseMove]);\n\n  return (\n    <div className=\"bg-white relative overflow-hidden\">\n      <div className=\"container mx-auto px-4 py-16 flex flex-col md:flex-row items-center\">\n        <div className=\"md:w-1/2 mb-8 md:mb-0 z-10\">\n          <h1 className=\"text-4xl font-bold mb-4\">Discover Your Next Favorite Song</h1>\n          <p className=\"text-xl mb-6\">TuneScout helps you find new music based on your preferences and listening history.</p>\n          <button className=\"bg-primary text-white px-6 py-2 rounded-full bg-primary transition duration-300\">\n            Get Started\n          </button>\n        </div>\n        <div className=\"md:w-1/2 relative h-96\">\n          <div \n            ref={discRef}\n            className=\"absolute -right-1/2 top-1/2 transform -translate-y-1/2\"\n            onMouseDown={handleMouseDown}\n            style={{ \n              transform: `translateY(-50%) rotate(${rotation}deg)`,\n              cursor: isMouseDown ? 'grabbing' : 'grab'\n            }}\n          >\n            <img\n              src={`${process.env.PUBLIC_URL}/images/disc.png`}\n              alt=\"Rotating Vinyl Disc\"\n              className=\"h-full w-auto select-none pointer-events-none\"\n              style={{ height: '120%' }}\n              draggable=\"false\"\n            />\n          </div>\n        </div>\n      </div>\n    </div>\n  );\n}\n\nexport default Hero;"],"mappings":"AAAA,MAAO,CAAAA,KAAK,EAAIC,QAAQ,CAAEC,MAAM,CAAEC,SAAS,CAAEC,WAAW,KAAQ,OAAO,CAAC,OAAAC,GAAA,IAAAC,IAAA,CAAAC,IAAA,IAAAC,KAAA,yBAExE,QAAS,CAAAC,IAAIA,CAAA,CAAG,CACd,KAAM,CAACC,WAAW,CAAEC,cAAc,CAAC,CAAGV,QAAQ,CAAC,KAAK,CAAC,CACrD,KAAM,CAACW,QAAQ,CAAEC,WAAW,CAAC,CAAGZ,QAAQ,CAAC,CAAC,CAAC,CAC3C,KAAM,CAACa,iBAAiB,CAAEC,oBAAoB,CAAC,CAAGd,QAAQ,CAAC,CAAEe,CAAC,CAAE,CAAC,CAAEC,CAAC,CAAE,CAAE,CAAC,CAAC,CAC1E,KAAM,CAACC,eAAe,CAAEC,kBAAkB,CAAC,CAAGlB,QAAQ,CAAC,CAAC,CAAC,CACzD,KAAM,CAAAmB,OAAO,CAAGlB,MAAM,CAAC,IAAI,CAAC,CAC5B,KAAM,CAAAmB,YAAY,CAAGnB,MAAM,CAAC,IAAI,CAAC,CACjC,KAAM,CAAAoB,eAAe,CAAGpB,MAAM,CAAC,IAAI,CAAC,CAEpC,KAAM,CAAAqB,gBAAgB,CAAG,IAAI,CAAE;AAC/B,KAAM,CAAAC,iBAAiB,CAAG,EAAE,CAAE;AAE9BrB,SAAS,CAAC,IAAM,CACdmB,eAAe,CAACG,OAAO,CAAG,GAAI,CAAAC,KAAK,CAAC,qBAAqB,CAAC,CAAE;AAC5DJ,eAAe,CAACG,OAAO,CAACE,IAAI,CAAC,CAAC,CAAE;AAEhC,GAAI,CAAAC,QAAQ,CAAG,CAAC,CAChB,KAAM,CAAAC,eAAe,CAAG,IAAI,CAAE;AAE9B,KAAM,CAAAC,OAAO,CAAIC,IAAI,EAAK,CACxB,GAAIH,QAAQ,GAAK,CAAC,CAAE,CAClB,KAAM,CAAAI,SAAS,CAAGD,IAAI,CAAGH,QAAQ,CACjC,GAAI,CAAClB,WAAW,CAAE,CAChBG,WAAW,CAAEoB,YAAY,EAAK,CAACA,YAAY,CAAGJ,eAAe,CAAGG,SAAS,EAAI,GAAG,CAAC,CACnF,CACF,CACAJ,QAAQ,CAAGG,IAAI,CACfV,YAAY,CAACI,OAAO,CAAGS,qBAAqB,CAACJ,OAAO,CAAC,CACvD,CAAC,CAEDT,YAAY,CAACI,OAAO,CAAGS,qBAAqB,CAACJ,OAAO,CAAC,CAErD,MAAO,IAAM,CACX,GAAIT,YAAY,CAACI,OAAO,CAAE,CACxBU,oBAAoB,CAACd,YAAY,CAACI,OAAO,CAAC,CAC5C,CACF,CAAC,CACH,CAAC,CAAE,CAACf,WAAW,CAAC,CAAC,CAEjB,KAAM,CAAA0B,cAAc,CAAGhC,WAAW,CAAC,IAAM,CACvC,KAAM,CAAAiC,WAAW,CAAGC,IAAI,CAACC,GAAG,CAAC,CAAC,CAC9B,GAAIF,WAAW,CAAGnB,eAAe,CAAGK,gBAAgB,CAAE,CACpD,GAAID,eAAe,CAACG,OAAO,CAAE,CAC3BH,eAAe,CAACG,OAAO,CAACY,WAAW,CAAG,CAAC,CAAE;AACzCf,eAAe,CAACG,OAAO,CAACe,IAAI,CAAC,CAAC,CAACC,KAAK,CAACC,CAAC,EAAIC,OAAO,CAACC,GAAG,CAAC,oBAAoB,CAAEF,CAAC,CAAC,CAAC,CACjF,CACAvB,kBAAkB,CAACkB,WAAW,CAAC,CACjC,CACF,CAAC,CAAE,CAACnB,eAAe,CAAC,CAAC,CAErB,KAAM,CAAA2B,eAAe,CAAIH,CAAC,EAAK,CAC7B/B,cAAc,CAAC,IAAI,CAAC,CACpBI,oBAAoB,CAAC,CAAEC,CAAC,CAAE0B,CAAC,CAACI,OAAO,CAAE7B,CAAC,CAAEyB,CAAC,CAACK,OAAQ,CAAC,CAAC,CACtD,CAAC,CAED,KAAM,CAAAC,aAAa,CAAG5C,WAAW,CAAC,IAAM,CACtCO,cAAc,CAAC,KAAK,CAAC,CACvB,CAAC,CAAE,EAAE,CAAC,CAEN,KAAM,CAAAsC,eAAe,CAAG7C,WAAW,CAAEsC,CAAC,EAAK,CACzC,GAAIhC,WAAW,EAAIU,OAAO,CAACK,OAAO,CAAE,CAClC,KAAM,CAAAyB,IAAI,CAAG9B,OAAO,CAACK,OAAO,CAAC0B,qBAAqB,CAAC,CAAC,CACpD,KAAM,CAAAC,WAAW,CAAGF,IAAI,CAACG,IAAI,CAAGH,IAAI,CAACI,KAAK,CAAG,CAAC,CAC9C,KAAM,CAAAC,WAAW,CAAGL,IAAI,CAACM,GAAG,CAAGN,IAAI,CAACO,MAAM,CAAG,CAAC,CAE9C,KAAM,CAAAC,SAAS,CAAGC,IAAI,CAACC,KAAK,CAAC9C,iBAAiB,CAACG,CAAC,CAAGsC,WAAW,CAAEzC,iBAAiB,CAACE,CAAC,CAAGoC,WAAW,CAAC,CAClG,KAAM,CAAAS,QAAQ,CAAGF,IAAI,CAACC,KAAK,CAAClB,CAAC,CAACK,OAAO,CAAGQ,WAAW,CAAEb,CAAC,CAACI,OAAO,CAAGM,WAAW,CAAC,CAE7E,GAAI,CAAAU,aAAa,CAAG,CAACD,QAAQ,CAAGH,SAAS,GAAK,GAAG,CAAGC,IAAI,CAACI,EAAE,CAAC,CAE5DlD,WAAW,CAAEoB,YAAY,EAAK,CAC5B,GAAI,CAAA+B,WAAW,CAAG,CAAC/B,YAAY,CAAG6B,aAAa,EAAI,GAAG,CACtD,MAAO,CAAAE,WAAW,CAAG,CAAC,CAAGA,WAAW,CAAG,GAAG,CAAGA,WAAW,CAC1D,CAAC,CAAC,CAEF;AACA,GAAIL,IAAI,CAACM,GAAG,CAACH,aAAa,CAAC,CAAGtC,iBAAiB,CAAE,CAC/CY,cAAc,CAAC,CAAC,CAClB,CAEArB,oBAAoB,CAAC,CAAEC,CAAC,CAAE0B,CAAC,CAACI,OAAO,CAAE7B,CAAC,CAAEyB,CAAC,CAACK,OAAQ,CAAC,CAAC,CACtD,CACF,CAAC,CAAE,CAACrC,WAAW,CAAEI,iBAAiB,CAAEsB,cAAc,CAAC,CAAC,CAEpDjC,SAAS,CAAC,IAAM,CACd+D,QAAQ,CAACC,gBAAgB,CAAC,SAAS,CAAEnB,aAAa,CAAC,CACnDkB,QAAQ,CAACC,gBAAgB,CAAC,WAAW,CAAElB,eAAe,CAAC,CAEvD,MAAO,IAAM,CACXiB,QAAQ,CAACE,mBAAmB,CAAC,SAAS,CAAEpB,aAAa,CAAC,CACtDkB,QAAQ,CAACE,mBAAmB,CAAC,WAAW,CAAEnB,eAAe,CAAC,CAC5D,CAAC,CACH,CAAC,CAAE,CAACD,aAAa,CAAEC,eAAe,CAAC,CAAC,CAEpC,mBACE3C,IAAA,QAAK+D,SAAS,CAAC,mCAAmC,CAAAC,QAAA,cAChD9D,KAAA,QAAK6D,SAAS,CAAC,qEAAqE,CAAAC,QAAA,eAClF9D,KAAA,QAAK6D,SAAS,CAAC,4BAA4B,CAAAC,QAAA,eACzChE,IAAA,OAAI+D,SAAS,CAAC,yBAAyB,CAAAC,QAAA,CAAC,kCAAgC,CAAI,CAAC,cAC7EhE,IAAA,MAAG+D,SAAS,CAAC,cAAc,CAAAC,QAAA,CAAC,qFAAmF,CAAG,CAAC,cACnHhE,IAAA,WAAQ+D,SAAS,CAAC,iFAAiF,CAAAC,QAAA,CAAC,aAEpG,CAAQ,CAAC,EACN,CAAC,cACNhE,IAAA,QAAK+D,SAAS,CAAC,wBAAwB,CAAAC,QAAA,cACrChE,IAAA,QACEiE,GAAG,CAAEnD,OAAQ,CACbiD,SAAS,CAAC,wDAAwD,CAClEG,WAAW,CAAE3B,eAAgB,CAC7B4B,KAAK,CAAE,CACLC,SAAS,4BAAAC,MAAA,CAA6B/D,QAAQ,QAAM,CACpDgE,MAAM,CAAElE,WAAW,CAAG,UAAU,CAAG,MACrC,CAAE,CAAA4D,QAAA,cAEFhE,IAAA,QACEuE,GAAG,IAAAF,MAAA,CAAKG,OAAO,CAACC,GAAG,CAACC,UAAU,oBAAmB,CACjDC,GAAG,CAAC,qBAAqB,CACzBZ,SAAS,CAAC,+CAA+C,CACzDI,KAAK,CAAE,CAAEhB,MAAM,CAAE,MAAO,CAAE,CAC1ByB,SAAS,CAAC,OAAO,CAClB,CAAC,CACC,CAAC,CACH,CAAC,EACH,CAAC,CACH,CAAC,CAEV,CAEA,cAAe,CAAAzE,IAAI","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}