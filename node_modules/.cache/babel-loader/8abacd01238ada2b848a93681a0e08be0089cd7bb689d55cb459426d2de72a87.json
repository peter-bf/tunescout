{"ast":null,"code":"var _jsxFileName = \"/Users/peter/Documents/SUMMER 2024/SEG3125/tunescout/src/App.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useQuery } from 'react-query';\nimport { getSpotifyTopTracks, getLastFmStreams, getTrackDetails, getArtistDetails } from './API';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Card = () => {\n  _s();\n  var _selectedTrack$trackD, _selectedTrack$trackD2, _selectedTrack$trackD3, _selectedTrack$trackD4, _selectedTrack$trackD5, _selectedTrack$trackD6, _selectedTrack$trackD7, _selectedTrack$artist, _selectedTrack$artist2, _selectedTrack$trackD8, _selectedTrack$artist3, _selectedTrack$artist4, _selectedTrack$artist5, _selectedTrack$trackD9;\n  const [selectedTrack, setSelectedTrack] = useState(null);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const modalRef = useRef(null);\n  const {\n    data: tracks,\n    error\n  } = useQuery('topTracks', async () => {\n    const spotifyTracks = await getSpotifyTopTracks();\n    return Promise.all(spotifyTracks.map(async spotifyTrack => {\n      const playcount = await getLastFmStreams(spotifyTrack.name, spotifyTrack.artist);\n      return {\n        ...spotifyTrack,\n        playcount\n      };\n    }));\n  });\n  const handleTrackClick = useCallback(async track => {\n    setSelectedTrack(track);\n    try {\n      const [trackDetails, artistDetails] = await Promise.all([getTrackDetails(track.id), getArtistDetails(track.artistId)]);\n      setSelectedTrack(prev => ({\n        ...prev,\n        trackDetails,\n        artistDetails\n      }));\n    } catch (err) {\n      console.error('Failed to fetch track or artist details', err);\n    }\n    setIsModalVisible(true);\n  }, []);\n  const closePopup = useCallback(() => {\n    setIsModalVisible(false);\n    setTimeout(() => {\n      setSelectedTrack(null);\n    }, 300);\n  }, []);\n  useEffect(() => {\n    const handleClickOutside = event => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        closePopup();\n      }\n    };\n    if (isModalVisible) {\n      document.addEventListener('mousedown', handleClickOutside);\n    } else {\n      document.removeEventListener('mousedown', handleClickOutside);\n    }\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isModalVisible, closePopup]);\n  const formatNumber = useCallback(num => {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }, []);\n  if (error) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-red-500 text-center mt-4\",\n    children: \"Failed to fetch top songs\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 61,\n    columnNumber: 21\n  }, this);\n  if (!tracks) return /*#__PURE__*/_jsxDEV(\"p\", {\n    className: \"text-center mt-4\",\n    children: \"Loading...\"\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 62,\n    columnNumber: 23\n  }, this);\n  const topSixTracks = tracks.slice(0, 6);\n  const remainingTracks = tracks.slice(6, 19);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"p-4\",\n    children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n      className: \"text-5xl font-bold text-center mb-4 text-red-600\",\n      children: \"Trending\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 69,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"flex\",\n      children: [/*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 pr-4 grid grid-cols-3 gap-4\",\n        children: topSixTracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer transition-all duration-150 ease-in-out transform hover:-translate-y-1 hover:shadow-lg hover:shadow-glow hover:bg-gray-100\",\n          onClick: () => handleTrackClick(track),\n          children: [/*#__PURE__*/_jsxDEV(\"img\", {\n            src: track.image,\n            alt: track.name,\n            className: \"w-full h-auto object-contain\",\n            loading: \"lazy\"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 78,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"p-4\",\n            children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n              className: \"font-bold text-lg mb-2 truncate\",\n              children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                className: \"mr-2\",\n                children: [index + 1, \".\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 81,\n                columnNumber: 19\n              }, this), track.name]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 80,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-red-600 truncate\",\n              children: track.artist\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 83,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-sm text-black-500 mt-2\",\n              children: [\"Streams: \", formatNumber(track.playcount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 84,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 79,\n            columnNumber: 15\n          }, this)]\n        }, track.id, true, {\n          fileName: _jsxFileName,\n          lineNumber: 73,\n          columnNumber: 13\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 71,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"w-1/2 pl-4\",\n        children: /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"bg-white rounded-lg shadow-md overflow-hidden\",\n          children: /*#__PURE__*/_jsxDEV(\"table\", {\n            className: \"w-full\",\n            children: [/*#__PURE__*/_jsxDEV(\"thead\", {\n              className: \"bg-zinc-900/100 text-accent\",\n              children: /*#__PURE__*/_jsxDEV(\"tr\", {\n                children: [/*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left\",\n                  children: \"#\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 94,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 95,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left\",\n                  children: \"Name\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 96,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-left\",\n                  children: \"Artist\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 97,\n                  columnNumber: 19\n                }, this), /*#__PURE__*/_jsxDEV(\"th\", {\n                  className: \"px-4 py-2 text-right\",\n                  children: \"Streams\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 98,\n                  columnNumber: 19\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 93,\n                columnNumber: 17\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 92,\n              columnNumber: 15\n            }, this), /*#__PURE__*/_jsxDEV(\"tbody\", {\n              children: remainingTracks.map((track, index) => /*#__PURE__*/_jsxDEV(\"tr\", {\n                className: `${index % 2 === 0 ? 'bg-primary/20' : 'bg-accent/10'} hover:bg-gray-200 cursor-pointer transition-colors duration-300`,\n                onClick: () => handleTrackClick(track),\n                children: [/*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2\",\n                  children: index + 7\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 108,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2\",\n                  children: /*#__PURE__*/_jsxDEV(\"img\", {\n                    src: track.image,\n                    alt: track.name,\n                    className: \"w-8 h-8 object-contain\",\n                    loading: \"lazy\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 110,\n                    columnNumber: 23\n                  }, this)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 109,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 truncate\",\n                  children: track.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 112,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 truncate\",\n                  children: track.artist\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 113,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"td\", {\n                  className: \"px-4 py-2 text-right\",\n                  children: formatNumber(track.playcount)\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 114,\n                  columnNumber: 21\n                }, this)]\n              }, track.id, true, {\n                fileName: _jsxFileName,\n                lineNumber: 103,\n                columnNumber: 19\n              }, this))\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 101,\n              columnNumber: 15\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 91,\n            columnNumber: 13\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 90,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 89,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 70,\n      columnNumber: 7\n    }, this), selectedTrack && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `fixed inset-0 bg-black transition-all duration-300 ease-in-out ${isModalVisible ? 'bg-opacity-50 backdrop-blur-sm' : 'bg-opacity-0 backdrop-blur-none pointer-events-none'} flex items-center justify-center z-50`,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: modalRef,\n        className: `bg-white p-8 rounded-lg shadow-xl w-full max-w-4xl relative transition-all duration-300 ease-in-out ${isModalVisible ? 'scale-100 opacity-100' : 'scale-0 opacity-0'}`,\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          onClick: closePopup,\n          className: \"absolute top-4 right-4 text-gray-600 hover:text-gray-800\",\n          children: /*#__PURE__*/_jsxDEV(\"svg\", {\n            xmlns: \"http://www.w3.org/2000/svg\",\n            className: \"h-8 w-8\",\n            fill: \"none\",\n            viewBox: \"0 0 24 24\",\n            stroke: \"currentColor\",\n            children: /*#__PURE__*/_jsxDEV(\"path\", {\n              strokeLinecap: \"round\",\n              strokeLinejoin: \"round\",\n              strokeWidth: 2,\n              d: \"M6 18L18 6M6 6l12 12\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 140,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 139,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 135,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"flex\",\n          children: [/*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/2 pr-6\",\n            children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n              className: \"text-3xl font-bold mb-4\",\n              children: selectedTrack.name\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 145,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Artist:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 146,\n                columnNumber: 45\n              }, this), \" \", selectedTrack.artist]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 146,\n              columnNumber: 17\n            }, this), ((_selectedTrack$trackD = selectedTrack.trackDetails) === null || _selectedTrack$trackD === void 0 ? void 0 : (_selectedTrack$trackD2 = _selectedTrack$trackD.album) === null || _selectedTrack$trackD2 === void 0 ? void 0 : _selectedTrack$trackD2.name) !== selectedTrack.name && /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl mb-2\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Album:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 148,\n                columnNumber: 47\n              }, this), \" \", ((_selectedTrack$trackD3 = selectedTrack.trackDetails) === null || _selectedTrack$trackD3 === void 0 ? void 0 : (_selectedTrack$trackD4 = _selectedTrack$trackD3.album) === null || _selectedTrack$trackD4 === void 0 ? void 0 : _selectedTrack$trackD4.name) || 'N/A']\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 148,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n              className: \"text-xl mb-6\",\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Streams:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 150,\n                columnNumber: 45\n              }, this), \" \", formatNumber(selectedTrack.playcount)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 150,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"iframe\", {\n              src: `https://open.spotify.com/embed/track/${selectedTrack.id}`,\n              width: \"100%\",\n              height: \"152\",\n              frameBorder: \"0\",\n              allowtransparency: \"true\",\n              allow: \"encrypted-media\",\n              className: \"mb-6 rounded\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 151,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-4\",\n              children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                className: \"text-2xl font-semibold mb-2\",\n                children: \"Additional Stats\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 161,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n                className: \"list-disc pl-5 text-lg\",\n                children: [/*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Release Date:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 163,\n                    columnNumber: 25\n                  }, this), \" \", ((_selectedTrack$trackD5 = selectedTrack.trackDetails) === null || _selectedTrack$trackD5 === void 0 ? void 0 : (_selectedTrack$trackD6 = _selectedTrack$trackD5.album) === null || _selectedTrack$trackD6 === void 0 ? void 0 : _selectedTrack$trackD6.release_date) || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 163,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Duration:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 164,\n                    columnNumber: 25\n                  }, this), \" \", (_selectedTrack$trackD7 = selectedTrack.trackDetails) !== null && _selectedTrack$trackD7 !== void 0 && _selectedTrack$trackD7.duration_ms ? `${Math.floor(selectedTrack.trackDetails.duration_ms / 60000)}:${Math.floor(selectedTrack.trackDetails.duration_ms % 60000 / 1000).toString().padStart(2, '0')}` : 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 164,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Genre:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 165,\n                    columnNumber: 25\n                  }, this), \" \", ((_selectedTrack$artist = selectedTrack.artistDetails) === null || _selectedTrack$artist === void 0 ? void 0 : (_selectedTrack$artist2 = _selectedTrack$artist.genres) === null || _selectedTrack$artist2 === void 0 ? void 0 : _selectedTrack$artist2.join(', ')) || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 165,\n                  columnNumber: 21\n                }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n                  children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                    children: \"Popularity:\"\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 166,\n                    columnNumber: 25\n                  }, this), \" \", ((_selectedTrack$trackD8 = selectedTrack.trackDetails) === null || _selectedTrack$trackD8 === void 0 ? void 0 : _selectedTrack$trackD8.popularity) || 'N/A']\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 166,\n                  columnNumber: 21\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 162,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 160,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 144,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"w-1/2 pl-6 flex flex-col\",\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"mb-6\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: ((_selectedTrack$artist3 = selectedTrack.artistDetails) === null || _selectedTrack$artist3 === void 0 ? void 0 : (_selectedTrack$artist4 = _selectedTrack$artist3.images) === null || _selectedTrack$artist4 === void 0 ? void 0 : (_selectedTrack$artist5 = _selectedTrack$artist4[0]) === null || _selectedTrack$artist5 === void 0 ? void 0 : _selectedTrack$artist5.url) || '',\n                alt: selectedTrack.artist,\n                className: \"w-40 h-40 rounded-full mx-auto\",\n                loading: \"lazy\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 172,\n                columnNumber: 19\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 171,\n              columnNumber: 17\n            }, this), ((_selectedTrack$trackD9 = selectedTrack.trackDetails) === null || _selectedTrack$trackD9 === void 0 ? void 0 : _selectedTrack$trackD9.album) && selectedTrack.trackDetails.album.id && /*#__PURE__*/_jsxDEV(\"iframe\", {\n              src: `https://open.spotify.com/embed/album/${selectedTrack.trackDetails.album.id}`,\n              width: \"100%\",\n              height: \"380\",\n              frameBorder: \"0\",\n              allowtransparency: \"true\",\n              allow: \"encrypted-media\",\n              className: \"rounded flex-grow\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 175,\n              columnNumber: 19\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 170,\n            columnNumber: 15\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 129,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 124,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 68,\n    columnNumber: 5\n  }, this);\n};\n_s(Card, \"4PGbVeFCgfZBJVG748BMVd3Wgb8=\", false, function () {\n  return [useQuery];\n});\n_c = Card;\nexport default _c2 = /*#__PURE__*/React.memo(Card);\nvar _c, _c2;\n$RefreshReg$(_c, \"Card\");\n$RefreshReg$(_c2, \"%default%\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useCallback","useQuery","getSpotifyTopTracks","getLastFmStreams","getTrackDetails","getArtistDetails","jsxDEV","_jsxDEV","Card","_s","_selectedTrack$trackD","_selectedTrack$trackD2","_selectedTrack$trackD3","_selectedTrack$trackD4","_selectedTrack$trackD5","_selectedTrack$trackD6","_selectedTrack$trackD7","_selectedTrack$artist","_selectedTrack$artist2","_selectedTrack$trackD8","_selectedTrack$artist3","_selectedTrack$artist4","_selectedTrack$artist5","_selectedTrack$trackD9","selectedTrack","setSelectedTrack","isModalVisible","setIsModalVisible","modalRef","data","tracks","error","spotifyTracks","Promise","all","map","spotifyTrack","playcount","name","artist","handleTrackClick","track","trackDetails","artistDetails","id","artistId","prev","err","console","closePopup","setTimeout","handleClickOutside","event","current","contains","target","document","addEventListener","removeEventListener","formatNumber","num","toString","replace","className","children","fileName","_jsxFileName","lineNumber","columnNumber","topSixTracks","slice","remainingTracks","index","onClick","src","image","alt","loading","ref","xmlns","fill","viewBox","stroke","strokeLinecap","strokeLinejoin","strokeWidth","d","album","width","height","frameBorder","allowtransparency","allow","release_date","duration_ms","Math","floor","padStart","genres","join","popularity","images","url","_c","_c2","memo","$RefreshReg$"],"sources":["/Users/peter/Documents/SUMMER 2024/SEG3125/tunescout/src/App.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useCallback } from 'react';\nimport { useQuery } from 'react-query';\nimport { getSpotifyTopTracks, getLastFmStreams, getTrackDetails, getArtistDetails } from './API';\n\nconst Card = () => {\n  const [selectedTrack, setSelectedTrack] = useState(null);\n  const [isModalVisible, setIsModalVisible] = useState(false);\n  const modalRef = useRef(null);\n\n  const { data: tracks, error } = useQuery('topTracks', async () => {\n    const spotifyTracks = await getSpotifyTopTracks();\n    return Promise.all(spotifyTracks.map(async (spotifyTrack) => {\n      const playcount = await getLastFmStreams(spotifyTrack.name, spotifyTrack.artist);\n      return { ...spotifyTrack, playcount };\n    }));\n  });\n\n  const handleTrackClick = useCallback(async (track) => {\n    setSelectedTrack(track);\n    try {\n      const [trackDetails, artistDetails] = await Promise.all([\n        getTrackDetails(track.id),\n        getArtistDetails(track.artistId)\n      ]);\n      setSelectedTrack(prev => ({ ...prev, trackDetails, artistDetails }));\n    } catch (err) {\n      console.error('Failed to fetch track or artist details', err);\n    }\n    setIsModalVisible(true);\n  }, []);\n\n  const closePopup = useCallback(() => {\n    setIsModalVisible(false);\n    setTimeout(() => {\n      setSelectedTrack(null);\n    }, 300);\n  }, []);\n\n  useEffect(() => {\n    const handleClickOutside = (event) => {\n      if (modalRef.current && !modalRef.current.contains(event.target)) {\n        closePopup();\n      }\n    };\n\n    if (isModalVisible) {\n      document.addEventListener('mousedown', handleClickOutside);\n    } else {\n      document.removeEventListener('mousedown', handleClickOutside);\n    }\n\n    return () => {\n      document.removeEventListener('mousedown', handleClickOutside);\n    };\n  }, [isModalVisible, closePopup]);\n\n  const formatNumber = useCallback((num) => {\n    return num.toString().replace(/\\B(?=(\\d{3})+(?!\\d))/g, \",\");\n  }, []);\n\n  if (error) return <p className=\"text-red-500 text-center mt-4\">Failed to fetch top songs</p>;\n  if (!tracks) return <p className=\"text-center mt-4\">Loading...</p>;\n\n  const topSixTracks = tracks.slice(0, 6);\n  const remainingTracks = tracks.slice(6, 19);\n\n  return (\n    <div className=\"p-4\">\n      <h1 className=\"text-5xl font-bold text-center mb-4 text-red-600\">Trending</h1>\n      <div className=\"flex\">\n        <div className=\"w-1/2 pr-4 grid grid-cols-3 gap-4\">\n          {topSixTracks.map((track, index) => (\n            <div \n              key={track.id} \n              className=\"bg-white rounded-lg shadow-md overflow-hidden cursor-pointer transition-all duration-150 ease-in-out transform hover:-translate-y-1 hover:shadow-lg hover:shadow-glow hover:bg-gray-100\"\n              onClick={() => handleTrackClick(track)}\n            >\n              <img src={track.image} alt={track.name} className=\"w-full h-auto object-contain\" loading=\"lazy\" />\n              <div className=\"p-4\">\n                <h3 className=\"font-bold text-lg mb-2 truncate\">\n                  <span className=\"mr-2\">{index + 1}.</span>{track.name}\n                </h3>\n                <p className=\"text-sm text-red-600 truncate\">{track.artist}</p>\n                <p className=\"text-sm text-black-500 mt-2\">Streams: {formatNumber(track.playcount)}</p>\n              </div>\n            </div>\n          ))}\n        </div>\n        <div className=\"w-1/2 pl-4\">\n          <div className=\"bg-white rounded-lg shadow-md overflow-hidden\">\n            <table className=\"w-full\">\n              <thead className=\"bg-zinc-900/100 text-accent\">\n                <tr>\n                  <th className=\"px-4 py-2 text-left\">#</th>\n                  <th className=\"px-4 py-2 text-left\"></th>\n                  <th className=\"px-4 py-2 text-left\">Name</th>\n                  <th className=\"px-4 py-2 text-left\">Artist</th>\n                  <th className=\"px-4 py-2 text-right\">Streams</th>\n                </tr>\n              </thead>\n              <tbody>\n                {remainingTracks.map((track, index) => (\n                  <tr \n                    key={track.id} \n                    className={`${index % 2 === 0 ? 'bg-primary/20' : 'bg-accent/10'} hover:bg-gray-200 cursor-pointer transition-colors duration-300`}\n                    onClick={() => handleTrackClick(track)}\n                  >\n                    <td className=\"px-4 py-2\">{index + 7}</td>\n                    <td className=\"px-4 py-2\">\n                      <img src={track.image} alt={track.name} className=\"w-8 h-8 object-contain\" loading=\"lazy\" />\n                    </td>\n                    <td className=\"px-4 py-2 truncate\">{track.name}</td>\n                    <td className=\"px-4 py-2 truncate\">{track.artist}</td>\n                    <td className=\"px-4 py-2 text-right\">{formatNumber(track.playcount)}</td>\n                  </tr>\n                ))}\n              </tbody>\n            </table>\n          </div>\n        </div>\n      </div>\n\n      {selectedTrack && (\n        <div \n          className={`fixed inset-0 bg-black transition-all duration-300 ease-in-out ${\n            isModalVisible ? 'bg-opacity-50 backdrop-blur-sm' : 'bg-opacity-0 backdrop-blur-none pointer-events-none'\n          } flex items-center justify-center z-50`}\n        >\n          <div \n            ref={modalRef} \n            className={`bg-white p-8 rounded-lg shadow-xl w-full max-w-4xl relative transition-all duration-300 ease-in-out ${\n              isModalVisible ? 'scale-100 opacity-100' : 'scale-0 opacity-0'\n            }`}\n          >\n            <button \n              onClick={closePopup}\n              className=\"absolute top-4 right-4 text-gray-600 hover:text-gray-800\"\n            >\n              <svg xmlns=\"http://www.w3.org/2000/svg\" className=\"h-8 w-8\" fill=\"none\" viewBox=\"0 0 24 24\" stroke=\"currentColor\">\n                <path strokeLinecap=\"round\" strokeLinejoin=\"round\" strokeWidth={2} d=\"M6 18L18 6M6 6l12 12\" />\n              </svg>\n            </button>\n            <div className=\"flex\">\n              <div className=\"w-1/2 pr-6\">\n                <h2 className=\"text-3xl font-bold mb-4\">{selectedTrack.name}</h2>\n                <p className=\"text-xl mb-2\"><strong>Artist:</strong> {selectedTrack.artist}</p>\n                {selectedTrack.trackDetails?.album?.name !== selectedTrack.name && (\n                  <p className=\"text-xl mb-2\"><strong>Album:</strong> {selectedTrack.trackDetails?.album?.name || 'N/A'}</p>\n                )}\n                <p className=\"text-xl mb-6\"><strong>Streams:</strong> {formatNumber(selectedTrack.playcount)}</p>\n                <iframe\n                  src={`https://open.spotify.com/embed/track/${selectedTrack.id}`}\n                  width=\"100%\"\n                  height=\"152\"\n                  frameBorder=\"0\"\n                  allowtransparency=\"true\"\n                  allow=\"encrypted-media\"\n                  className=\"mb-6 rounded\"\n                ></iframe>\n                <div className=\"mb-4\">\n                  <h3 className=\"text-2xl font-semibold mb-2\">Additional Stats</h3>\n                  <ul className=\"list-disc pl-5 text-lg\">\n                    <li><strong>Release Date:</strong> {selectedTrack.trackDetails?.album?.release_date || 'N/A'}</li>\n                    <li><strong>Duration:</strong> {selectedTrack.trackDetails?.duration_ms ? `${Math.floor(selectedTrack.trackDetails.duration_ms / 60000)}:${Math.floor((selectedTrack.trackDetails.duration_ms % 60000) / 1000).toString().padStart(2, '0')}` : 'N/A'}</li>\n                    <li><strong>Genre:</strong> {selectedTrack.artistDetails?.genres?.join(', ') || 'N/A'}</li>\n                    <li><strong>Popularity:</strong> {selectedTrack.trackDetails?.popularity || 'N/A'}</li>\n                  </ul>\n                </div>\n              </div>\n              <div className=\"w-1/2 pl-6 flex flex-col\">\n                <div className=\"mb-6\">\n                  <img src={selectedTrack.artistDetails?.images?.[0]?.url || ''} alt={selectedTrack.artist} className=\"w-40 h-40 rounded-full mx-auto\" loading=\"lazy\" />\n                </div>\n                {selectedTrack.trackDetails?.album && selectedTrack.trackDetails.album.id && (\n                  <iframe\n                    src={`https://open.spotify.com/embed/album/${selectedTrack.trackDetails.album.id}`}\n                    width=\"100%\"\n                    height=\"380\"\n                    frameBorder=\"0\"\n                    allowtransparency=\"true\"\n                    allow=\"encrypted-media\"\n                    className=\"rounded flex-grow\"\n                  ></iframe>\n                )}\n              </div>\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default React.memo(Card);"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}